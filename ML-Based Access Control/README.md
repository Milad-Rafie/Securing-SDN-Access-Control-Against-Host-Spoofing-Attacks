# Securing SDN Access Control with Behavioral Machine Learning

This project implements a smart security system for Software-Defined Networks (SDN). Instead of relying on static lists of allowed IP addresses (which attackers can easily fake), this system watches **how** a device behaves on the network.

If a device starts acting like an attacker—for example, sending too many packets too quickly—the system detects it using Machine Learning and blocks it immediately.

## Repository Structure

* **`DDoS_Mininet.ipynb`**: The Jupyter Notebook used to teach the system what an attack looks like. It processes data and trains the model.
* **`behavioral_controller.py`**: The "brain" of the network. This script runs on the POX controller, monitors live traffic, and enforces security rules .
* **`Model/`**: This folder contains the pre-trained "brain" files generated by the notebook. You need these for the controller to work.
    * `xgb_topk.pkl`: The trained XGBoost classifier.
    * `scaler_topk.pkl`: A tool to scale live network numbers so they match the training data.
    * `feature_names_topk.pkl`: The list of specific behaviors the model looks for.

## How It Works

1.  **Training (The Notebook):** We used the InSDN dataset to train an XGBoost model. We taught it to ignore specific IP addresses and focus on behaviors like packet timing, size, and flag counts[cite: 7, 18].
2.  **Detection (The Controller):** The controller listens to the network switch. It calculates statistics for every flow (conversation) between devices .
3.  **Action:** Every 10 seconds, the controller asks the model: *"Is this flow dangerous?"* If the Risk Score is **> 75%**, the controller tells the switch to **DROP** all traffic from that device for 5 minutes .

## Getting Started

### 1. Prerequisites
You need a Python environment with the following installed:
* POX Controller
* Mininet (for simulating the network)
* Python libraries: `joblib`, `scikit-learn`, `xgboost`, `numpy`

### 2. Using the Pre-Trained Model
You do not need to run the notebook if you just want to run the simulation. The `Model/` folder already contains the necessary files.

1.  Download the `Model` folder and `behavioral_controller.py`.
2.  Open `behavioral_controller.py` and update the paths at the top to point to your `Model` folder:

    ```python
    # Update these paths to where you saved the Model folder
    MODEL_PATH = '/path/to/your/Model/xgb_topk.pkl'
    SCALER_PATH = '/path/to/your/Model/scaler_topk.pkl'
    FEATURE_NAMES_PATH = '/path/to/your/Model/feature_names_topk.pkl'
    ```

3.  Run the controller:
    ```bash
    ./pox.py behavioral_controller
    ```

### 3. Training Your Own Model (Optional)
If you want to retrain the system or see how the data was processed:
1.  Open `DDoS_Mininet.ipynb` in Google Colab or Jupyter.
2.  Run the cells to load the dataset, clean the data, and train the XGBoost algorithm.
3.  The last step of the notebook will generate new `.pkl` files for the `Model/` folder.

## Features Detected
To keep the system fast, we only look at the **Top 12** most important behaviors, including:
* Average Packet Size
* Maximum Packet Length
* SYN Flag Counts (indicates scanning or flooding)
* Inter-arrival times (how fast packets are hitting the switch)
* Destination Ports
